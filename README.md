# Чат-бот "Рубрикатор комментариев"
## Предпосылки и идея
Потребление смещается в онлайн и в целом объём рынка розничной торговли в интернете растёт в среднем на 30% в год. Описание к товару часто бывает неполным или непонятно, как оно соотносится с реальной жизнью. При этом много потребительских знаний и опыта можно найти в комментариях к продукту на маркетплейсах. Но в тоже время, этих комментариев может быть очень много и пользователю надо потратить время и силы на их изучение и сортировку.

Поэтому и появилась идея сделать сервис, который поможет пользователю разобраться со всей этой информацией.

В результате использования сервиса потребитель получит:

- Информацию по конкретной теме
- Отфильтрованные неинформативные комментарии
- Возможность выявить неявные характеристики продукта
## Принцип работы
**Пользователь высылает** ссылку на товар боту  
**Бот парсит** онлайн данные, делает кластеризацию всех комментариев и направляет пользователю:

- Облако слов (самые частые слова, которые упоминаются в комментариях)
- Запрос - какой тональности нужны комментарии
- Список тем, которые обсуждаются в комментариях к выбранному продукту  

**Пользователь** выбирает одну из предложенных тем или вводит свой запрос, по которому хочет получить комментарии  
**Бот** присылает 10 самых релевантных комментариев по выбранной теме и тональности

![Alt Text](https://user-images.githubusercontent.com/79212361/119344336-3383d880-bca0-11eb-8aa1-d21f367f21fd.gif)


## Парсинг
Онлайн парсинг с помощью библиотеки Scrapy (html+API)  

## Препроцессинг
Удаление стандартных стоп-слов  
Кастомный список стоп-слов для каждого товара  
Очистка текста от лишних символов  
Удаление самых редких и самых частых слов по IDF  

## Кластеризация комментариев по темам
Кластеризация алгоритмом K-means  
В каждом кластере определяется тема по tf-idf  
Комментарии сортируются по убыванию расстояния до ближайшего центроида  

## Анализ тональности
Предобучение модели на датасете kaggle  

# Структура репозитория
telegram.py  
Бот с основным алгоритмом  

wildberries/wildberries/spiders/wildberries.py  
Парсинг  

model_base/model_base.py  
Модель кластеризации и тональности  

StopWords_extension.csv  
Расширенный список стоп-слов  

# Команда
https://github.com/OlegZubkov  

https://github.com/dpanina
